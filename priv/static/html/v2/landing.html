<style type="text/css">
.reveal .slides>section,
.reveal .slides>section>section {
  padding: 0px !important;
}

.accordion-button::after {
  -ms-flex-negative: 0;
  flex-shrink: 0;
  width: 1.25rem;
  height: 1.25rem;
  margin-left: auto;
  content: "";
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-size: 1.25rem;
  /* transition: -webkit-transform .2s ease-in-out; */
  /* transition: transform .2s ease-in-out; */
  transition: transform .2s ease-in-out, -webkit-transform .2s ease-in-out;
}

.accordion-button:not(.collapsed)::after {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23ffffff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
  -webkit-transform: rotate(-180deg);
  transform: rotate(-180deg);
}

.accordion-button:focus {
  z-index: 3;
  border-color: #f4aa90;
  outline: 0;
  box-shadow: 0 0 0 .25rem rgba(249, 249, 249, 0.25);
}

.landing a {
  color: white;
}

.navbar .dropdown-menu {
  background-color: #0000;
  border: 0;
}

.landing .nav-link:focus,
.landing .nav-link:hover {
  color: #fff;

}

.dropdown-divider {
  height: 0;
  margin: .5rem 0;
  overflow: hidden;
  border-top: 1px solid rgba(255, 255, 255, 0.15);
}


#myVideo {
  height: 95vh;
  left: -130vw;
  position: absolute;
  z-index: -1;
}

@media (min-width: 576px) {
  #myVideo {
    height: 120vh;
    left: 0;
    position: absolute;
    z-index: -1;
  }
}
</style>
<!--Slider Start-->
<div style="height: 96vh; width: 100vw;position: relative;display: flex;">
  <div class="reveal" style="">
    <div class="slides ">
      <section class="flex-collumn align-items-center h-100 justify-content-center w-100" data-background-size="cover" data-background-repeat="none" data-background-color="#111" data-autoslide="44000" data-transition-speed="slow">
        <div style="position: absolute;top: 0px;width: 100vw;z-index: -1;">
          <div style=" background: linear-gradient(
          rgba(0, 0, 0, 0.72), 
          rgba(0, 0, 0, 0.42), 
          rgba(0, 0, 0, 0.22), 
          rgba(0, 0, 0, 0));
          position: absolute;
          height: 100vh;
          top: 0;
          width: 100%;
          ">
          </div>
          <video autoplay="" muted="" loop="" id="myVideo">
            <source src="/images/worship.mp4" type="video/mp4">
            Your browser does not support HTML5 video.
          </video>
        </div>
        <div class="row pt-4 w-100">
          <span class=" col-12 text-white offset-lg-2 col-lg-8">
            <div class=" d-flex flex-column align-items-lg-start align-items-center justify-content-center">
              <div class="py-4 fw-bolder" style="font-size: 2em;">
                神的爱
              </div>
              <div class="">神爱你，并且为你的生命有一奇妙的计划。
              </div>
              <div style="font-size: 0.4em;" class="py-4">
                神爱世人，甚至将他的独生子（耶稣）赐给他们，叫一切信他的，不致灭亡，反得永生。（约翰福音 3：16）
              </div>
              <div class="btn btn-primary ">Find out more</div>
            </div>
          </span>
        </div>
      </section>
      <section class="flex-collumn align-items-center h-100 justify-content-center w-100" data-background-size="cover" data-background-repeat="none" data-background-color="#111" data-background-image='/images/jp.webp' data-autoslide="4000" data-transition-speed="slow" style=" background: linear-gradient(
            rgba(0, 0, 0, 0.72), 
          rgba(0, 0, 0, 0.42), 
          rgba(0, 0, 0, 0.22), 
          rgba(0, 0, 0, 0));">
        <div class="row pt-4">
          <span class=" col-12 text-white ">
            <div class=" d-flex flex-column align-items-center justify-content-center">
              <h3>马来西亚基督教卫理公会华人年议会
              </h3>
              <span class="fs-3 ">Chinese Annual Conference,
                The Methodist Church In Malaysia</span>
            </div>
          </span>
        </div>
      </section>
      <section class="flex-collumn align-items-center h-100 justify-content-center w-100" data-background-size="cover" data-background-repeat="none" data-background-color="#111" data-background-image='/images/akira-hojo-_86u_Y0oAaM-unsplash.webp' data-autoslide="4000" data-transition-speed="slow" style=" background: linear-gradient(
            rgba(0, 0, 0, 0.72), 
          rgba(0, 0, 0, 0.42), 
          rgba(0, 0, 0, 0.22), 
          rgba(0, 0, 0, 0));">
        <div class="row pt-4">
          <span class=" col-12 text-white ">
            <div class=" d-flex flex-column align-items-center justify-content-center">
              <h3>马来西亚基督教卫理公会华人年议会
              </h3>
              <span class="fs-3 ">Chinese Annual Conference,
                The Methodist Church In Malaysia</span>
            </div>
          </span>
        </div>
      </section>
    </div>
  </div>
</div>
<!--Slider End-->
<script type="text/javascript">
var deck = new Reveal({
  disableLayout: true,
  margin: 0.00,
  center: false,
  keyboard: true,
  embedded: true,
  autoSlide: 5000,
  autoPlayMedia: true,
  loop: true,
  display: 'flex'
});
deck.initialize();
deck.on('slidechanged', event => {
  console.log(event.currentSlide);


  $(event.currentSlide).find(".visible").removeClass("visible")

});
</script>
<!--Main Content Start-->
<div class="main-content">
  <!--City News Start-->
  <section class="my-4 py-4" style="position: relative;">
    <div class="hero-pattern2" style="height: 75vh;position: absolute;bottom: 0px;width: 100vw; z-index: -1;">
    </div>
    <div class="px-1 mx-1 px-lg-4 mx-lg-4">
      <div class="title-style-3 container">
        <h3>南钟报特选文章</h3>
        <p>双月刊南钟报</p>
      </div>
      <div class="row d-none" id="l4">
      </div>
      <div class="row" id="m4">
      </div>
    </div>
  </section>
  <!--City News End-->
  <!--Recent Events Start-->
  <section class="my-4 py-4 " style="position: relative;">
    <div class="hero-pattern" style="height: 75vh;position: absolute;bottom: 0px;width: 100vw; z-index: -1;">
    </div>
    <div class="container-fluid">
      <div class="row gx-0">
        <div class="col-md-5 ">
          <h3>年会活动报导</h3>
          <div class="recent-event-block shadow-lg rounded m-4 p-4" style="backdrop-filter: blur(10px);">
            <!--Slider Big Slider Start-->
            <div class="recent-event-slider" aria-label="recent-events">
            </div>
            <!--Slider Big Slider End-->
            <div class="row g-1" aria-label="event-gallery">
            </div>
          </div>
        </div>
        <div class="col-md-7">
          <h3>年会活动与讲座</h3>
          <nav class="nav nav-tabs" role="tablist">
            <a href="#Events" class="active p-3" aria-controls="Events" role="tab" aria-selected="true" data-bs-toggle="tab">活动</a>
            <a href="#Meetings" class="p-3" aria-controls="Meetings" role="tab" aria-selected="false" data-bs-toggle="tab">讲座</a>
          </nav>
          <!-- Tab panes -->
          <div class="tab-content shadow-lg rounded m-4 p-4" style="backdrop-filter: blur(10px);">
            <div role="tabpanel" class="tab-pane active show" id="Events">
              <!--Event List Start-->
              <!--Event List End-->
            </div>
            <div role="tabpanel" class="tab-pane " id="Meetings">
              <!--Event List Start-->
              <ul class="event-list">
                <li> <strong class="edate">30 Jan, 2019</strong> <strong class="etime">09:00 pm</strong> </li>
                <li><img src="/assets/upce-2.jpg" alt=""></li>
                <li class="el-title">
                  <h6><a href="#">Seminar on Child Labour held in next month</a></h6>
                  <p><i class="fas fa-map-marker-alt"></i> Mayor Office, New York</p>
                </li>
                <li> <a href="#" class="joinnow">Join Now</a> </li>
              </ul>
              <!--Event List End-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--Recent Events End-->
  <script type="text/javascript">
  var events = App.api("get_events", {});

  events.forEach((event, i) => {
    var dt = new Date(event.start_datetime)

    var edate = dt.toGMTString().split(",")[1].split(" ").splice(0, 4).join(" ")
    var etime = dt.toLocaleTimeString()
    var card = `

              <ul class="event-list">
                <li> <strong class="edate">` + edate + `</strong> <strong class="etime">` + etime + `</strong> </li>
                <li><img style="height: 56px" src="` + event.img_url + `" alt=""></li>
                <li class="el-title">
                  <h6><a class="navi" href="/events/` + event.id + `/` + event.title + `">` + event.title + `</a></h6>
                  <p><i class="fas fa-map-marker-alt"></i>` + event.venue.name + `</p>
                </li>
                <li> <a href="#" class="joinnow">Join Now</a> </li>
              </ul>
  `

    $("div#Events").append(card)
  })

  var blogs = App.api("blogs", { category: "年会动态" });
  // ------- Event Slider Start ------- //
  $("div[aria-label='recent-events']").html('')
  blogs.forEach((blog, i) => {
    var excerpt = blog.excerpt
    if (excerpt == null) {
      excerpt = blog.subtitle
    }
    if (excerpt == null) {
      excerpt = blog.title
    }
    var navcard = `
      <div class="col-3" >

                  <div class="new-thumb" style="
                      cursor: pointer;
                      height: 100px;
                      background-repeat: no-repeat;
                      background-position: cover;
                      background-size: cover;
                      background-image: url('` + blog.img_url + `')
                    " onclick="$('.recent-event-slider').slick('slickGoTo', ` + i + `)"> 
                    <div >
      </div>
    `
    var card = `
                <div class="event-big">
                  <div class="event-cap">
                    <h5  >
                      <a class="navi" href='/blogs/` + blog.id + `/` + blog.title + `'>` + blog.title + `</a></h5>
                    <ul class="d-none">
                      <li><i class="fas fa-image"></i> 83 Photos</li>
                      <li><i class="fas fa-play-circle"></i> 16 Videos</li>
                    </ul>` + excerpt + `
                  </div>
                  <div class="new-thumb" style="
                      height: 500px;
                      z-index: -1;
                      background-repeat: no-repeat;
                      background-position: center;
                      background-size: cover;
                      background-image: url('` + blog.img_url + `')
                    " onclick="navigateTo('/blogs/` + blog.id + `/` + blog.title + `')"> 
                    <div >
                </div>
              `
    $("div[aria-label='recent-events']").append(card)
    $("div[aria-label='event-gallery']").append(navcard)
  })


  // ------- Event Slider End ------- //  



  var blogs = App.api("blogs", { only_child: true, category: "e_southernbell" });
  // ---- highlights ----
  blogs.forEach((blog, i) => {

    if (i < 12) {

      var author_img = '/assets/tuser1.jpg'
      var author_name = 'Reporter'
      var excerpt = blog.excerpt
      if (excerpt == null) {
        excerpt = blog.subtitle
      }
      if (excerpt == null) {
        excerpt = blog.title
      }
      if (blog.author != null) {
        if (blog.author.img_url != null) {
          author_img = blog.author.img_url
        }
        author_name = blog.author.name
      }

      var box = `
          <div class="pt-4 col-md-2 col-sm-6" data-title="` + blog.title + `"
              data-blog-id="` + blog.id + `">
            <div class="shadow-lg rounded mb-4 p-4">
              <div class="new-thumb" style="
                  height: 200px;
                  background-repeat: no-repeat;
                  background-position: center;
                  background-size: cover;
                  background-image: url('` + blog.img_url + `')
                " onclick="navigateTo('/blogs/` + blog.id + `/` + blog.title + `')"> 
                <span class="cat c2">` + blog.category.name + `</span> 
            
                <div >
                </div> 
              </div>
              <div class="new-txt">
                <ul class="news-meta d-none">
                  <li>` + blog.ago + ` ago</li>
                  <li></li>
                </ul>
                <div class="navi" style="" >
                  <h6><a href='/blogs/` + blog.id + `/` + blog.title + `' >` + blog.title + `</a></h6>
                </div
                <p> ` + excerpt + ` </p>
              </div>
            
            </div>
          </div>
          `
      $("#l4").append(box)

      var box = `
          <div class="px-4" data-title="` + blog.title + `"
              data-blog-id="` + blog.id + `">
            <div class="shadow rounded mb-4 p-4" style="backdrop-filter: blur(10px);">
              <div class="new-thumb" style="
                  height: 200px;
                  background-repeat: no-repeat;
                  background-position: center;
                  background-size: cover;
                  background-image: url('` + blog.img_url + `')
                " onclick=""> 
                <span class="cat c2">` + blog.category.name + `</span> 
            
                <div >
                </div> 
              </div>
              <div class="new-txt">
                <ul class="news-meta d-none">
                  <li>` + blog.ago + ` ago</li>
                  <li></li>
                </ul>
                <div class="navi" style="" >
                  <h6 class="py-2">
                    <a href='/blogs/` + blog.id + `/` + blog.title + `' >` + blog.title + `</a></h6>
                </div>
                <div class="text-sm"> ` + excerpt + ` </div>
              </div>
            
            </div>
          </div>
          `
      $("#m4").append(box)
    }

  })




  function memberLogin() {
    App.modal({
      selector: "#transparentModal",
      autoClose: false,
      header: 'Login',
      content: `

      <div id="firebaseui-auth-container"></div>
    `

    })
    ui.start('#firebaseui-auth-container', {
      callbacks: {
        signInSuccessWithAuthResult: function(authResult, redirectUrl) {
          window.user = authResult.user
          window.userToken = authResult.user.uid
          var res = App.post("google_signin", {
            result: {
              uid: authResult.user.uid,
              email: authResult.user.email,
              name: authResult.user.displayName
            }
          })
          window.userToken = res
          localStorage.setItem("pkey", res)
          checkLoginUser();
          navigateTo("/home")
          $("#transparentModal").modal('hide')
          // $("#xr").addClass("d-none")
          // $("#axr").removeClass("d-none")
          $("#axr").find("span[aria-label='displayName']").html("Hi, " + authResult.user.displayName)
          // $("#aax").addClass("d-none")
          App.notify("Welcome back!")


          // $(".bnn").addClass("d-none")
          // $("div[aria-label='mainbar']")[0].scrollIntoView();
        },
        uiShown: function() {
          App.hide();


          // $("div[aria-label='mainbar']")[0].scrollIntoView();

        }
      },
      signInFlow: 'popup',
      signInSuccessUrl: '/home',
      signInOptions: [
        firebase.auth.EmailAuthProvider.PROVIDER_ID
      ]
    });
  }


  $(document).ready(() => {
    App.post("cache", { title: "landing", content: $("#subcontent").html() })
    if ($('.recent-event-slider').length) {
      window.event_slider = $('.recent-event-slider').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
      });
    }
    $('#m4').slick({
      slidesToShow: 5,
      slidesToScroll: 2,
      dots: true,
      infinite: true,
      centerMode: true,
      centerPadding: '10px',
      arrows: true,
      responsive: [{
          breakpoint: 768,
          settings: {
            arrows: false,
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 3
          }
        },
        {
          breakpoint: 480,
          settings: {
            arrows: false,
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 1
          }
        }
      ]
    });
    if ($('#h3team-slider').length) {
      $('#h3team-slider').owlCarousel({
        loop: true,
        margin: 30,

        dots: false,
        responsiveClass: true,
        responsive: {
          0: {
            items: 1,
            nav: true
          },
          600: {
            items: 2,
            nav: true
          },
          1000: {
            items: 2,
            nav: true,
            loop: false
          }
        }
      })
    }
  })
  </script>
</div>
<!--Main Content End-->